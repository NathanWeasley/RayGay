---
layout: post
title:  Procedural bumpmapping
date:   2005-03-20
categories: raygay update
---

<p>I materiale-definitioner kan man nu angive en funktion &#8477;<sup>3</sup>&times;&#8477;<sup>3</sup> &rarr; &#8477;<sup>3</sup> i Scheme, som via callback manipulerer en overflades normalvektor. Dermed er det muligt at lave bumpmapping på overflader, som ikke har veldefinerede (u,v) mappings.</p>
<p><a href="{{site.url}}/assets/tracer77big.png"><img src="{{site.url}}/assets/tracer77.png"></a>
<p>Nedenstående funktion har som argumenter et overfladepunkt P og en normal N i dette punkt. Den returnerer blot N forskudt med lidt <a href="http://astronomy.swin.edu.au/~pbourke/texture/perlin/">Perlin-støj</a> i P for at give ovenstående materiale.</p>
<div id="scheme" class="vim">; Perlin perturb
(define (perturb-noise P N)
    (v+ N (vscale 
	   (noise3d (vscale P 5) 0.001)
	   0.1))))
</div>

