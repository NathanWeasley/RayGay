---
layout: post
title:  Mandelbrot
date:   2007-11-24
categories: raygay update
---

<p>Scheme er et fantastisk sprog til at lege med algoritmer. Her er et program som plotter <a href="http://en.wikipedia.org/wiki/Mandelbrot_set">Mandelbrot-m√¶ngden</a>:</p>
<div class="vim" id="scheme">(define max-iterations 100)

(define (mandelbrot c)
 (define (mandelbrot-inner z i)
  (cond ((&gt; (magnitude z) 4.0) 'escaped)
        ((= i max-iterations) 'did-not-escape)
	(else (mandelbrot-inner 
	        (+ c (* z z)) (+ 1 i)))))
 (mandelbrot-inner c 0))

(do ((y -1 (+ y 0.1)))
 ((&gt;= y 1))
 (do ((x -2 (+ x 0.05)))
  ((&gt;= x 1) (newline))
  (case (mandelbrot (make-rectangular x y))
    ((escaped) (display "."))
    ((did-not-escape) (display "#")))))
</div>
<br>
<div class="vim"><small>
............................................................
............................................................
....................................####....................
....................................####....................
..............................#..##########.................
..............................#################.............
............................###################.............
...........................#####################............
.................#######..######################............
................#########.######################............
.....#....####################################..............
................#########.######################............
.................#######..######################............
...........................#####################............
............................###################.............
..............................#################.............
..............................#..##########.................
....................................####....................
....................................####....................
............................................................
............................................................
</small>	
</div>