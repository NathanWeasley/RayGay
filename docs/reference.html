<html>
<head>
   <title>RayGay Scheme reference manual</title>
   <link rel="stylesheet" href="reference.css" type="text/css">
</head>
<body>
<h1>RayGay Scheme reference manual</h1>

<h2>Vector operations</h2>

<div class="function">
<h3>vdot</h3>
<p><span class="functiondef">(vdot <i>vector</i> <i>vector</i>) &rarr; <i>real</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>vcross</h3>
<p><span class="functiondef">(vcross <i>vector</i> <i>vector</i>) &rarr; <i>vector</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>bounding-box</h3>
<p><span class="functiondef">(bounding-box <i>object</i>:object ) &rarr; <i>(vector,vector)</i></tt></p>
<p>Returns two corners describing the axis-aligned boundingbox of the object.</p>
</div>

<div class="function">
<h3>rotate</h3>
<p><span class="functiondef">(rotate <i>vector</i>:vector <i>vector</i>:axis <i>real</i>:angle) &rarr; <i>vector</i></tt></p>
<p><span class="functiondef">(rotate <i>object</i>:object <i>vector</i>:axis <i>real</i>:angle) &rarr; <i>object</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>translate</h3>
<p><span class="functiondef">(translate <i>vector</i> translation) &rarr; <i>vector</i></tt></p>
<p><span class="functiondef">(translate <i>object</i> translation) &rarr; <i>object</i></tt></p>
<pre>
</pre>
</div>

<h2>Paths</h2>

<div class="function">
<h3>make-circle</h3>
<p><span class="functiondef">(make-circle <i>vector</i>:center <i>real</i>:radius <i>vector</i>:normal) &rarr; <i>path</i></tt></p>
<pre>
(make-circle '(0 0 0) 10 '(0 0 1))
</pre>
</div>

<div class="function">
<h3>make-ellipse</h3>
<p><span class="functiondef">(make-ellipse <i>vector</i>:center <i>real</i>:radius<sub>x</sub> <i>real</i>:radius<sub>y</sub> <i>vector</i>:normal) &rarr; <i>path</i></tt></p>
<pre>
(make-ellipse '(0 0 0) 10 20 '(0 0 1))
</pre>
</div>

<div class="function">
<h3>make-linesegment</h3>
<p><span class="functiondef">(make-linesegment <i>vector</i>:from <i>vector</i>:to) &rarr; <i>path</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-spiral</h3>
<p><span class="functiondef">(make-spiral <i>path</i>:path radius windings offset) &rarr; <i>path</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-bezierspline</h3>
<p><span class="functiondef">(make-bezierspline vectors) &rarr; <i>path</i></tt></p>
<p>
<pre>
(make-bezierspline '((0 0 0) (10 10 10) (20 20 10)))
</pre>
</p>
</div>

<div class="function">
<h3>point-on-path</h3>
<p><span class="functiondef">(point-on-path <i>path</i>:path t) &rarr; vector</tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>tangent-to-path</h3>
<p><span class="functiondef">(point-on-path <i>path</i>:path t) &rarr; vector</tt></p>
<pre>
</pre>
</div>

<h2>Objects</h2>

<div class="function">
<h3>make-sphere</h3>
<p><span class="functiondef">(make-sphere <i>vector</i>:center <i>real</i>:radius <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-sphere <i>vector</i>:center <i>real</i>:radius) &rarr; <i>object</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-ellipsoid</h3>
<p><span class="functiondef">(make-ellipsoid <i>vector</i>:center <i>vector</i>:radii <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-ellipsoid <i>vector</i>:center <i>vector</i>:radii) &rarr; <i>object</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-torus</h3>
<p><span class="functiondef">(make-torus <i>real</i>:R <i>real</i>:r <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-torus <i>real</i>:R <i>real</i>:r) &rarr; <i>object</i></tt></p>
<p>Makes a torus placed in (0,0,0).</p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-box</h3>
<p><span class="functiondef">(make-box <i>vector</i>:corner<sub>1</sub> <i>vector</i>:corner<sub>2</sub> <i>material</i>:material) &rarr; <i>object</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-solid-box</h3>
<p><span class="functiondef">(make-solid-box <i>vector</i>:corner<sub>1</sub> <i>vector</i>:corner<sub>2</sub> <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-solid-box <i>vector</i>:corner<sub>1</sub> <i>vector</i>:corner<sub>2</sub>) &rarr; <i>object</i></tt></p>
<p>This can be used for CSG operations.</p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-cylinder</h3>
<p><span class="functiondef">(make-cylinder <i>vector</i>:begin <i>vector</i>:end <i>real</i>:radius <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-cylinder <i>vector</i>:begin <i>vector</i>:end <i>real</i>:radius) &rarr; <i>object</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-uncapped-cylinder</h3>
<p><span class="functiondef">(make-uncapped-cylinder <i>vector</i>:begin <i>vector</i>:end <i>real</i>:radius <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-uncapped-cylinder <i>vector</i>:begin <i>vector</i>:end <i>real</i>:radius) &rarr; <i>object</i></tt></p>
<p>This is slightly faster than <tt>make-cylinder</tt> if the caps aren't needed.</p>
</div>

<div class="function">
<h3>make-cone</h3>
<p><span class="functiondef">(make-cone <i>vector</i>:begin <i>vector</i>:end <i>real</i>:radius<sub>begin</sub> <i>real</i>:radius<sub>end</sub> <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-cone <i>vector</i>:begin <i>vector</i>:end <i>real</i>:radius<sub>begin</sub> <i>real</i>:radius<sub>end</sub>) &rarr; <i>object</i></tt></p>
<pre>
</pre>
</div>

<div class="function">
<h3>make-uncapped-cone</h3>
<p><span class="functiondef">(make-uncapped-cone <i>vector</i>:begin <i>vector</i>:end <i>real</i>:radius<sub>begin</sub> <i>real</i>:radius<sub>end</sub> <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-uncapped-cone <i>vector</i>:begin <i>vector</i>:end <i>real</i>:radius<sub>begin</sub> <i>real</i>:radius<sub>end</sub>) &rarr; <i>object</i></tt></p>
<p>This is slightly faster than <tt>make-cone</tt> if the caps aren't needed.</p>
</div>

<div class="function">
<h3>make-extrusion</h3>
<p><span class="functiondef">(make-extrusion <i>path</i>:path <i>path</i>:circle <i>real</i>:twists <i>int</i>:segments <i>real</i>:twists <i>material</i>:material) &rarr; <i>object</i></tt></p>
</div>

<div class="function">
<h3>make-heightfield</h3>
<p><span class="functiondef">(make-heightfield <i>texture</i>:heightmap <i>vector</i>:size<sub>xyz</sub> <i>int</i>:width-divisions <i>int</i>:depth-divisions  <i>material</i>:material) &rarr; <i>object</i></tt></p>
</div>

<div class="function">
<h3>make-union</h3>
<p><span class="functiondef">(make-union <i>object</i>:solid<sub>1</sub> <i>object</i>:solid<sub>2</sub> ... <i>object</i>:solid<sub>n</sub> <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-union <i>object</i>:solid<sub>1</sub> <i>object</i>:solid<sub>2</sub> ... <i>object</i>:solid<sub>n</sub>) &rarr; <i>object</i></tt></p>
</div>

<div class="function">
<h3>make-difference</h3>
<p><span class="functiondef">(make-difference <i>object</i>:solid<sub>L</sub> <i>object</i>:solid<sub>R</sub> <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-difference <i>object</i>:solid<sub>L</sub> <i>object</i>:solid<sub>R</sub>) &rarr; <i>object</i></tt></p>
</div>

<div class="function">
<h3>make-intersection</h3>
<p><span class="functiondef">(make-intersection <i>object</i>:solid<sub>L</sub> <i>object</i>:solid<sub>R</sub> <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p><span class="functiondef">(make-intersection <i>object</i>:solid<sub>L</sub> <i>object</i>:solid<sub>R</sub>) &rarr; <i>object</i></tt></p>
</div>

<div class="function">
<h3>make-bezierpatch</h3>
<p><span class="functiondef">(make-bezierpatch (<i>vector</i>:point<sub>1</sub> ... <i>vector</i>:point<sub>16</sub>) <i>int</i>:resolution<sub>x</sub> <i>int</i>:resolution<sub>y</sub> <i>material</i>:material) &rarr; <i>object</i></tt></p>
<p>Makes a mesh of 2 &times; resolution<sub>x</sub> &times; resolution<sub>y</sub> triangles.</p>
</div>

<h2>Materials</h2>

<h2>Scheme cheatsheet</h2>

<h3>Iteration with <tt>do</tt></h3>

<pre>
(do ((x 0 (+ x 1)))
  ((= x 10) x)
    (display x)
    (newline))

(do ((var1 init1 step1)...)
    (test expr ...)
   command ...)
</pre>
The init expressions are assigned to the vars. Each iteration begins by
evaluating test. 

If the result is false the commands are run, then the steps evaluated and assigned to the vars and then the next iteration begins. If the result is true the exprs are evaluated and the last one is returned as the value of the do-expression.

A step can the omitted. The init then works as a simple assignment of local vars.

The example prints the numbers 0 to 10 and returns x which has the value 10.
<hr>
$Id$ Jesper Christensen, 2006.


</body>
</html>
